{% extends "main.html" %}
 f
{% load static %}

{% block content %}
<style>
    body {
        background-color: #e9ecef; /* لون خلفية فاتح */
    }
    .container {
        margin-top: 50px; /* مسافة من الأعلى */
        background: #ffffff; /* لون خلفية أبيض */
        border-radius: 10px; /* زوايا مدورة */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* ظل خفيف */
        padding: 20px; /* هوامش داخلية */
    }
    h1 {
        text-align: center; /* توسيط العنوان */
        margin-bottom: 20px; /* مسافة أسفل العنوان */
        color: #007bff; /* لون نص العنوان */
        font-weight: bold; /* نص غامق */
    }
    table {
        width: 100%; /* عرض الجدول بالكامل */
    }
    th, td {
        text-align: center; /* توسيط النص في الخلايا */
        font-weight: bold; /* نص غامق للخلايا */
        color: #495057; /* لون نص الخلايا */
    }
    .no-reports {
        text-align: center; /* توسيط النص في حالة عدم وجود تقارير */
        color: #6c757d; /* لون نص رمادي */
        font-weight: bold; /* نص غامق */
    }
</style>

<div class="container-fluid">
  <div class="row">
    <aside class="col-md-3 p-0">
      {% include "sidebar.html" %}
    </aside>

    <main class="col-md-9 pt-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>قائمة التقارير</h2>
        <div>
          <a href="{% url 'report_add' %}" class="btn btn-success">إضافة تقرير جديد</a>
          <a href="{% url 'home' %}" class="btn btn-secondary">العودة للرئيسية</a>
        </div>
      </div>

      {% if report %}
        <div class="table-responsive">
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>#</th>
                <th>العنوان</th>
                <th>تاريخ الإنشاء</th>
                <th class="text-center">الإجراءات</th>
              </tr>
            </thead>
            <tbody>
              {% for report in reports %}
                <tr>
                  <td>{{ forloop.counter }}</td>
                  <td>{{ report.title }}</td>
                  <td>{{ report.first_name }}</td>
                  <td>{{ report.created_at|date:"Y-m-d H:i" }}</td>
                  <td class="text-center">
                    <a href="{% url 'report_edit' report.pk %}" class="btn btn-sm btn-primary">تعديل</a>
                    <a href="{% url 'report_delete' report.pk %}" class="btn btn-sm btn-danger">حذف</a>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <p>لا توجد تقارير بعد.</p>
      {% endif %}
    </main>
  </div>
</div>
{% endblock %}
